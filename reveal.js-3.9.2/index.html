<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                Vue.js 快速上手
            </section>
            <section data-markdown data-separator="^\n---\n$" data-separator-vertical="^\n--\n$">
                ## 1、项目构建

                --

                ### 1.1 安装 @vue/cli
                ```bash
                npm install -g @vue/cli
                # OR
                yarn global add @vue/cli
                ```

                --

                ### 1.2 创建项目
                ```bash
                vue create my-project
                # OR
                vue ui
                ```

                --

                ### 1.3 配置项选择
                ![Vue create](./images/vueCreate.png)

                --

                ### 1.4 Vue 项目目录结构
                ![Vue Directory](./images/vueDirectory.png)

                --

                ### 1.5 实用工具
                - webstorm 安装 vue snippets
                - VSCode 安装 Vetur 和 Vue VSCode Snippets

                ---

                ## 2. 最简单的 Demo：+1

                ### `src/main.js` 文件

                ```javascript
                import Vue from 'vue';
                import App from './App.vue';

                new Vue({
                render: h => h(App)
                }).$mount('#hello');
                ```

                --

                ### `src/App.vue` 文件
                ![Vue Demo](./images/vueDemo-1.png)

                --

                ### [本地预览](http://localhost:8081/)
                ```bash
                yarn serve
                ```

                ---

                ## 3. Vue 优势

                - 数据驱动视图，if data changes -> render(data)
                - 虚拟 DOM，降低浏览器渲染 DOM 的性能损耗
                - 单文件组件，方便扩展
                - 有强大的第三方 UI 库支持，比如 [Vant](https://youzan.github.io/vant/#/zh-CN/)，Element
                - 文档友好，上手难度不高
                - 个人开发者，LICENSE 友好
                - 前端工程化，模块化，方便构建复杂应用

                [Vue 三子棋](http://localhost:8082/)

                ---

                ## 4. Vue 模板语法

                ### 主要特点 & 常用功能：
                - XML语法
                - 使用 `{{}}` 插入表达式
                - `v-html` = `xxx.innerHTML`
                - `v-on` = `addEventListener`
                - `v-if | v-else | v-else-if | v-for` 字面意思
                - `v-on:click` 可缩写成 `@click`
                - `v-bind:src` 可缩写成 `:src`

                --

                ### 指令 & 修饰符

                指令：
                - `v-`开头的就是指令
                - `v-指令名：参数=值` 如 `v-on:click="add"`

                修饰符：
                - `@click.stop="add"` 阻止事件传播/冒泡，`e.stopPropagation()`
                - `@click.prevent="add"` 阻止默认动作，`e.preventDefault()`
                - `@click.stop.prevent="add"` 两者都阻止

                ---

                ## 5. Vue 构造选项

                - data 内部数据，支持对象和函数，优先用函数
                - methods 方法，包括事件处理函数或普通函数
                - components 放组件，首字母大写
                - 四个钩子：created mounted updated destroyed
                - props 外部属性，需要传外部数据

                ---

                ## 6. Vue 进阶属性

                - computed 计算属性：会缓存旧值，依赖变化才计算
                - watch 监听属性：当依赖的 data 变化时执行一个异步回调函数
                - [directive](https://codesandbox.io/s/trusting-aryabhata-25vd5) 自定义指令：用于减少重复的DOM操作
                - [mixins](https://codesandbox.io/s/unruffled-mcclintock-8csco) 混入： 用来减少 options 里的重复

                ---

                ## 7. Vue Router 路由器

                ```javascript
                const routes = [
                {
                    path: '/',
                    redirect: '/money'
                },
                {
                    path: '/money',
                    component: Money
                }];
                ```
                ![VueRouter](./images/vueRouter.png)

                ---

                ## 8. Vue 打包
                package.json 里找到如下配置：
                ```bash
                "scripts": {
                "serve": "vue-cli-service serve",
                "build": "vue-cli-service build",
                "test:unit": "vue-cli-service test:unit",
                "lint": "vue-cli-service lint"
                }
                ```
                打包指令：
                ```bash
                yarn build
                ```
                打包完成会生成 /dist 目录，服务器部署即可

                ---

                ### Vue 数据响应式的实现

                [实验](https://codesandbox.io/s/suspicious-allen-su8mf?file=/src/main.js)

                --

                ![Vue响应式原理](./images/vueDataRender.png)

                --

                现在再来回到我们的 [+1 demo](http://localhost:8081/)

                知道为什么data改变，页面会重新渲染了吧

                ---

                ## 未完待续，再次感谢！

            </section>
            <!-- ## Vue 数据响应式
                ## Vue 高级属性
                ## computed && watch
                ## directives && mixins
                ## provide && inject -->
        </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
        // More info about config & dependencies:
        // - https://github.com/hakimel/reveal.js#configuration
        // - https://github.com/hakimel/reveal.js#dependencies
        Reveal.initialize({
            hash: true,
            dependencies: [
                { src: 'plugin/markdown/marked.js' },
                { src: 'plugin/markdown/markdown.js' },
                { src: 'plugin/highlight/highlight.js' },
                { src: 'plugin/notes/notes.js', async: true }
            ]
        });
    </script>
</body>

</html>
